{"version":3,"file":"commonHelpers.js","sources":["../src/js/faq.js","../src/js/cover.js","../src/js/footer.js","../src/js/header-modal.js"],"sourcesContent":["import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  // Initialize the Accordion module\n  new Accordion('.accordion-container', {\n    duration: 400,\n    showMultiple: true,\n    onOpen: function (currentElement) {\n      console.log(currentElement);\n      currentElement.parentNode.classList.toggle('open');\n    },\n    onClose: function (currentElement) {\n      console.log(currentElement);\n      // Toggle the 'open' class on the parent .faq-item\n      currentElement.parentNode.classList.toggle('open');\n    },\n  });\n\n  // Select all arrow icons\n  const arrowIcons = document.querySelectorAll('.arrow');\n\n  // Add click event listener to each arrow icon\n  arrowIcons.forEach(function (arrowIcon) {\n    arrowIcon.addEventListener('click', function () {\n      // Get the parent FAQ item\n      const faqItem = this.closest('.faq-item');\n\n      // Toggle the visibility of the associated paragraph\n      const faqItemText = faqItem.querySelector('.faq-item-text');\n      faqItemText.classList.toggle('show');\n\n      // Toggle rotation of the arrow icon\n      this.classList.toggle('rotate');\n    });\n  });\n});\n","const coversSection = document.getElementById('covers');\n\nwindow.addEventListener('scroll', () => {\n  if (isInViewport(coversSection)) {\n    coversSection.querySelectorAll('.cover-line').forEach((item, index) => {\n      setTimeout(() => {\n        item.classList.add('show');\n      }, index * 100);\n    });\n  }\n});\n\nfunction isInViewport(element) {\n  const rect = element.getBoundingClientRect();\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom <=\n      (window.innerHeight || document.documentElement.clientHeight) &&\n    rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n  );\n}\n\nexport { isInViewport };\n","const elements = {\n  form: document.querySelector('.js-footer-form'),\n  closeBtn: document.querySelector('.js-modal-close-btn'),\n  submitBtn: document.querySelector('.footer-form-btn'),\n  modal: document.querySelector('.backdrop'),\n  input: document.querySelector('.js-input'),\n  errorBox: document.createElement('div'),\n  succesBox: document.createElement('div'),\n};\n\nfunction initValidation(form) {\n  form.setAttribute('novalidate', '');\n\n  form.addEventListener('submit', event => {\n    const allValid = form.checkValidity();\n    if (!allValid) {\n      event.preventDefault();\n    }\n  });\n\n  elements.input.setAttribute('aria-invalid', false);\n  elements.input.setAttribute('aria-valid', false);\n  elements.errorBox.classList.add('error');\n  elements.succesBox.classList.add('succes');\n\n  elements.input.insertAdjacentElement('afterend', elements.errorBox);\n  elements.input.insertAdjacentElement('afterend', elements.succesBox);\n\n  elements.input.addEventListener('invalid', () => {\n    elements.input.setAttribute('aria-invalid', true);\n\n    const message = getMessage(elements.input);\n    elements.errorBox.textContent = message || elements.input.validationMessage;\n  });\n\n  elements.input.addEventListener('blur', () => {\n    elements.input.checkValidity();\n  });\n\n  elements.input.addEventListener('input', () => {\n    const valid = elements.input.checkValidity();\n\n    let maxLength = 20;\n\n    if (elements.input.value.length > maxLength) {\n      elements.input.value =\n        elements.input.value.substring(0, maxLength) + '...';\n    }\n\n    if (valid) {\n      elements.input.setAttribute('aria-invalid', false);\n      elements.input.setAttribute('aria-valid', true);\n      elements.succesBox.textContent = 'Succes!';\n      elements.errorBox.textContent = '';\n      return;\n    } \n    else {\n      elements.input.setAttribute('aria-valid', false);\n      elements.succesBox.textContent = '';\n      elements.input.setAttribute('aria-invalid', true);\n      elements.submitBtn.disabled = true;\n    }\n  });\n}\n\nfunction getMessage(field) {\n  const validity = field.validity;\n  if (validity.valueMissing) return `Please enter your email`;\n  if (validity.typeMismatch) return `Invalid email, try again!`;\n}\n\ninitValidation(elements.form);\n\nelements.form.addEventListener('submit', handlerSubmit);\n\nfunction handlerSubmit(evt) {\n  evt.preventDefault();\n  \n  elements.input.setAttribute('aria-valid', false);\n  elements.succesBox.textContent = '';\n\n  const { email, comment, button } = evt.currentTarget.elements;\n\n  button.disabled = false;\n  const post = {\n    email: email.value,\n    comment: comment.value,\n  };\n\n  const options = {\n    method: 'POST',\n    body: JSON.stringify(post),\n    headers: {\n      'Content-type': 'application/json',\n    },\n  };\n  fetch('https://portfolio-js.b.goit.study/api-docs/', options)\n    .then(\n      resp => elements.modal.classList.remove('is-hidden'),\n\n      evt.currentTarget.reset()\n    )\n    .catch(error => console.error('Error:', error));\n}\n\nelements.closeBtn.addEventListener('click', handlerClick);\n\nfunction handlerClick() {\n  elements.modal.classList.add('is-hidden');\n}\n\nexport { elements, initValidation, getMessage, handlerSubmit, handlerClick };\n","// by Anton\n\nconst refs = {\n    openMenuBtn: document.querySelector(\"[data-menu-open]\"),\n    closeMenuBtn: document.querySelector(\"[data-menu-close]\"),\n    menu: document.querySelector(\"[data-menu]\"),\n    body: document.querySelector('body'),\n  };\n\n    refs.openMenuBtn.addEventListener(\"click\", toggleMenu);\n    refs.closeMenuBtn.addEventListener(\"click\", toggleMenu);\n\n    function toggleMenu() {\n        refs.menu.classList.toggle(\"is-hidden\");\n        refs.body.classList.toggle(\"no-scroll\");\n    }\n    \nexport { toggleMenu };"],"names":["Accordion","currentElement","arrowIcon","coversSection","isInViewport","item","index","element","rect","elements","initValidation","form","event","message","getMessage","valid","maxLength","field","validity","handlerSubmit","evt","email","comment","button","post","options","resp","error","handlerClick","refs","toggleMenu"],"mappings":"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"}